import{a as R,b as G,c as j,d as Y,e as q,f as Q,g as K,h as Z,i as J,j as W,k as X,l as ee,m as te,n as ie}from"./chunk-DMG2KDWS.js";import{$ as C,A as V,Ba as $,C as o,G as P,Ga as z,Ja as H,M as g,N as x,O as M,P as U,Q as I,R as T,S as p,T as t,U as n,V as d,Z as E,ba as s,c as B,fa as L,ga as S,ha as O,ia as a,ja as m,ka as u,m as D,n as v,na as A,o as f,p as b,q as h,s as _,ua as N,va as F,xa as w,z as y}from"./chunk-PN67FDXX.js";function re(l,r){if(l&1&&(t(0,"div",21),d(1,"div",22),n()),l&2){let e=r.$implicit,i=r.$index,c=s();L("background-image","url("+e+")"),S("opacity-100",i===c.currentSlideIndex())("opacity-0",i!==c.currentSlideIndex()),o(),O(i===c.currentSlideIndex()?c.currentAnimation():"")}}function le(l,r){if(l&1&&(t(0,"section",14)(1,"div",23)(2,"div",24)(3,"div",25),d(4,"img",26),t(5,"h3",27),a(6),n(),t(7,"p",28),a(8),n(),t(9,"p",29),a(10),n()(),t(11,"div",25),d(12,"img",30),t(13,"h3",27),a(14),n(),t(15,"p",28),a(16),n(),t(17,"p",29),a(18),n()()(),t(19,"div",31)(20,"p",32),a(21),n(),t(22,"p",33),a(23),n()()()()),l&2){let e=s();o(4),p("src",e.config().couple.groom.image,y),o(2),m(e.config().couple.groom.name),o(2),m(e.config().couple.groom.parents),o(2),u('"',e.config().couple.groom.wittyDescription,'"'),o(2),p("src",e.config().couple.bride.image,y),o(2),m(e.config().couple.bride.name),o(2),m(e.config().couple.bride.parents),o(2),u('"',e.config().couple.bride.wittyDescription,'"'),o(3),u('"',e.config().loveQuote.text,'"'),o(2),u("- ",e.config().loveQuote.author," -")}}function me(l,r){if(l&1&&(t(0,"section",15)(1,"div",34)(2,"h2",35),a(3),n(),t(4,"div",8),b(),t(5,"svg",9),d(6,"path",10),n()(),h(),t(7,"div",36)(8,"div")(9,"p",37),a(10),n(),t(11,"p",38),a(12,"DAYS"),n()(),t(13,"div")(14,"p",37),a(15),n(),t(16,"p",38),a(17,"HOURS"),n()(),t(18,"div")(19,"p",37),a(20),n(),t(21,"p",38),a(22,"MINUTES"),n()(),t(23,"div")(24,"p",37),a(25),n(),t(26,"p",38),a(27,"SECONDS"),n()()()()()),l&2){let e,i=s();o(3),m(((e=i.config().galleryTitle)==null?null:e.countdownTitle)||""),o(7),m(i.timeLeft().days),o(5),m(i.timeLeft().hours),o(5),m(i.timeLeft().minutes),o(5),m(i.timeLeft().seconds)}}function ce(l,r){if(l&1&&(t(0,"div",41),d(1,"div",42),t(2,"div",43)(3,"p",44),a(4),n(),t(5,"p",45),a(6),n()()()),l&2){let e=r.$implicit,i=r.$index,c=s(2);o(),L("background-image","url("+e.image+")"),S("md:order-2",i%2===0),o(),S("md:text-right",i%2!==0),o(2),m(c.formatStoryDate(e.date)),o(2),m(e.content)}}function de(l,r){if(l&1&&(t(0,"section",14)(1,"div",39)(2,"h2",35),a(3),n(),t(4,"div",8),b(),t(5,"svg",9),d(6,"path",10),n()(),h(),t(7,"div",40),I(8,ce,7,8,"div",41,M),n()()()),l&2){let e=s();o(3),m(e.config().loveStory.title),o(5),T(e.config().loveStory.milestones)}}function se(l,r){if(l&1){let e=E();t(0,"button",51),C("click",function(){let c=v(e).$implicit,k=s(2);return f(k.selectCategory(c))}),a(1),n()}if(l&2){let e,i=r.$implicit,c=s(2);S("text-gray-900",c.activeCategory()===i)("text-gray-400",c.activeCategory()!==i)("border-gray-800",c.activeCategory()===i)("border-transparent",c.activeCategory()!==i),o(),u(" ",((e=c.config().galleryTitle)==null?null:e[i])||i," ")}}function pe(l,r){if(l&1){let e=E();t(0,"img",52),C("click",function(){let c=v(e).$index,k=s(2);return f(k.openLightbox(c))}),n()}if(l&2){let e=r.$implicit,i=r.$index;p("alt",A("Gallery image ",i+1))("src",e,y)}}function ge(l,r){if(l&1&&(t(0,"section",15)(1,"div",46)(2,"h2",35),a(3),n(),t(4,"div",8),b(),t(5,"svg",9),d(6,"path",10),n()(),h(),t(7,"div",47),I(8,se,2,9,"button",48,U),n(),t(10,"div",49),I(11,pe,1,3,"img",50,M),n()()()),l&2){let e,i=s();o(3),m(((e=i.config().galleryTitle)==null?null:e.title)||"Kho \u1EA3nh"),o(5),T(i.galleryCategories()),o(3),T(i.activeImages())}}function xe(l,r){if(l&1&&(t(0,"section",53)(1,"div",46)(2,"h2",54),a(3),n(),t(4,"div",55),b(),t(5,"svg",56),d(6,"path",10),n()(),h(),t(7,"div",57)(8,"div",58)(9,"h3",59),a(10),n(),t(11,"p",60),a(12),n(),t(13,"p",61),a(14),n(),t(15,"div",62),d(16,"iframe",63),N(17,"safeUrl"),n()(),t(18,"div",58)(19,"h3",59),a(20),n(),t(21,"p",61),a(22),n(),t(23,"div",62),d(24,"iframe",63),N(25,"safeUrl"),n()(),t(26,"div",58)(27,"h3",59),a(28),n(),t(29,"p",61),a(30),n(),t(31,"div",62),d(32,"iframe",63),N(33,"safeUrl"),n()()()()()),l&2){let e,i=s();L("background-image","url("+i.config().receptionDetails.backgroundImg+")"),o(3),m(((e=i.config().galleryTitle)==null?null:e.weddingDetail)||""),o(7),m(i.config().mainEvent.name),o(2),m(i.config().mainEvent.venue),o(2),m(i.config().mainEvent.address),o(2),p("src",F(17,13,i.config().mainEvent.mapUrl),V),o(4),m(i.config().couple.groom.homeLocation.name),o(2),m(i.config().couple.groom.homeLocation.des),o(2),p("src",F(25,15,i.config().couple.groom.homeLocation.mapUrl),V),o(4),m(i.config().couple.bride.homeLocation.name),o(2),m(i.config().couple.bride.homeLocation.des),o(2),p("src",F(33,17,i.config().couple.bride.homeLocation.mapUrl),V)}}function ue(l,r){if(l&1){let e=E();t(0,"section",14)(1,"div",34)(2,"h2",35),a(3),n(),t(4,"div",8),b(),t(5,"svg",9),d(6,"path",10),n()(),h(),t(7,"p",64),a(8),n(),t(9,"div",65)(10,"div",66)(11,"h3",67),a(12,"For the Groom"),n(),d(13,"img",68),t(14,"p",69),a(15),n(),t(16,"p",70),a(17),n(),t(18,"p",71),a(19),n(),t(20,"button",72),C("click",function(){v(e);let c=s();return f(c.copyToClipboard(c.config().gifting.groom.accountNumber,"groom"))}),a(21),n()(),t(22,"div",66)(23,"h3",67),a(24,"For the Bride"),n(),d(25,"img",73),t(26,"p",69),a(27),n(),t(28,"p",70),a(29),n(),t(30,"p",71),a(31),n(),t(32,"button",72),C("click",function(){v(e);let c=s();return f(c.copyToClipboard(c.config().gifting.bride.accountNumber,"bride"))}),a(33),n()()()()()}if(l&2){let e=s();o(3),m(e.config().gifting.title),o(5),m(e.config().gifting.intro),o(5),p("src",e.config().gifting.groom.qrCodeUrl,y),o(2),m(e.config().gifting.groom.bankName),o(2),m(e.config().gifting.groom.accountHolder),o(2),m(e.config().gifting.groom.accountNumber),o(),S("bg-green-500",e.copiedGroom())("bg-gray-800",!e.copiedGroom())("text-white",!0),o(),u(" ",e.copiedGroom()?"COPIED!":"COPY ACCOUNT"," "),o(4),p("src",e.config().gifting.bride.qrCodeUrl,y),o(2),m(e.config().gifting.bride.bankName),o(2),m(e.config().gifting.bride.accountHolder),o(2),m(e.config().gifting.bride.accountNumber),o(),S("bg-green-500",e.copiedBride())("bg-gray-800",!e.copiedBride())("text-white",!0),o(),u(" ",e.copiedBride()?"COPIED!":"COPY ACCOUNT"," ")}}function ve(l,r){l&1&&(t(0,"section",15),d(1,"app-mini-game"),n())}function fe(l,r){if(l&1&&(t(0,"div",83)(1,"p",84),a(2),n(),t(3,"p",85),a(4),n()()),l&2){let e=r.$implicit;o(2),u('"',e.message,'"'),o(2),u("- ",e.name)}}function be(l,r){if(l&1){let e=E();t(0,"section",14)(1,"div",74)(2,"h2",35),a(3),n(),t(4,"div",8),b(),t(5,"svg",9),d(6,"path",10),n()(),h(),t(7,"p",75),a(8),n(),t(9,"div",76)(10,"form",77),C("ngSubmit",function(){v(e);let c=s();return f(c.submitGuestbookMessage())}),t(11,"div",78),d(12,"input",79),n(),t(13,"div",78),d(14,"textarea",80),n(),t(15,"button",81),a(16," G\u1EEDi l\u1EDDi ch\xFAc "),n()()(),t(17,"div",82),I(18,fe,5,2,"div",83,M),n()()()}if(l&2){let e=s();o(3),m(e.config().guestbook.title),o(5),m(e.config().guestbook.intro),o(2),p("formGroup",e.guestbookForm),o(5),p("disabled",e.guestbookForm.invalid),o(3),T(e.guestbookMessages())}}function he(l,r){if(l&1&&(t(0,"section",14)(1,"div",86)(2,"h2",35),a(3),n(),t(4,"div",8),b(),t(5,"svg",9),d(6,"path",10),n()(),h(),t(7,"p",45),a(8),n()()()),l&2){let e=s();o(3),m(e.config().thankYou.title),o(5),m(e.config().thankYou.message)}}function _e(l,r){if(l&1){let e=E();t(0,"app-lightbox",87),C("onClose",function(){v(e);let c=s();return f(c.closeLightbox())})("onNext",function(){v(e);let c=s();return f(c.nextImage())})("onPrev",function(){v(e);let c=s();return f(c.prevImage())}),n()}if(l&2){let e=s();p("imageUrl",e.selectedImageUrl())}}var ne=class l{constructor(){this.configService=D(H);this.guestbookService=D(W);this.fb=D(Z);this.config=this.configService.config;this.slideImages=w(()=>this.config().slideImages);this.currentSlideIndex=_(0);this.currentAnimation=_("animate-kenburns-tl");this.animations=["animate-kenburns-tl","animate-kenburns-br",""];this.timeLeft=_({days:0,hours:0,minutes:0,seconds:0});this.copiedGroom=_(!1);this.copiedBride=_(!1);this.guestbookMessages=this.guestbookService.messages;this.guestbookForm=this.fb.group({name:["",G.required],message:["",G.required]});this.galleryCategories=w(()=>{let i=this.config().galleryImages,{title:r}=i,e=B(i,["title"]);return Object.keys(e)});this.userSelectedCategory=_(null);this.activeCategory=w(()=>{let r=this.galleryCategories();if(!r||r.length===0)return null;let e=this.userSelectedCategory();return e&&r.includes(e)?e:r[0]});this.activeImages=w(()=>{let r=this.activeCategory(),e=this.config().galleryImages,i=r?e[r]:[];return Array.isArray(i)?i:[]});this.selectedImageIndex=_(null);this.isLightboxOpen=w(()=>this.selectedImageIndex()!==null);this.selectedImageUrl=w(()=>{let r=this.selectedImageIndex(),e=this.activeImages();return r===null||!e?null:e[r]||null});this.startCountdown(),this.startSlideshow()}startSlideshow(){this.slideIntervalId=window.setInterval(()=>{this.currentSlideIndex.update(r=>(r+1)%this.slideImages().length),this.currentAnimation.set(this.animations[Math.floor(Math.random()*this.animations.length)])},4e3)}startCountdown(){let r=new Date(this.config().mainEvent.date).getTime();this.intervalId=window.setInterval(()=>{let e=new Date().getTime(),i=r-e;if(i<0){this.timeLeft.set({days:0,hours:0,minutes:0,seconds:0}),this.intervalId&&clearInterval(this.intervalId);return}let c=Math.floor(i/(1e3*60*60*24)),k=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),oe=Math.floor(i%(1e3*60*60)/(1e3*60)),ae=Math.floor(i%(1e3*60)/1e3);this.timeLeft.set({days:c,hours:k,minutes:oe,seconds:ae})},1e3)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId),this.slideIntervalId&&clearInterval(this.slideIntervalId)}getFormattedDate(){let r=new Date(this.config().mainEvent.date),e={month:"long",day:"numeric",year:"numeric"};return r.toLocaleDateString("en-US",e)}formatStoryDate(r){let e=new Date(r),i={month:"long",day:"numeric",year:"numeric"};return e.toLocaleDateString("en-US",i)}async copyToClipboard(r,e){try{await navigator.clipboard.writeText(r),e==="groom"?(this.copiedGroom.set(!0),setTimeout(()=>this.copiedGroom.set(!1),2e3)):(this.copiedBride.set(!0),setTimeout(()=>this.copiedBride.set(!1),2e3))}catch(i){console.error("Failed to copy: ",i)}}submitGuestbookMessage(){if(this.guestbookForm.valid){let{name:r,message:e}=this.guestbookForm.value;this.guestbookService.addMessage(r,e),this.guestbookForm.reset()}}selectCategory(r){this.userSelectedCategory.set(r)}openLightbox(r){this.selectedImageIndex.set(r)}closeLightbox(){this.selectedImageIndex.set(null)}nextImage(){this.selectedImageIndex()!==null&&this.selectedImageIndex.update(r=>(r+1)%this.activeImages().length)}prevImage(){this.selectedImageIndex()!==null&&this.selectedImageIndex.update(r=>(r-1+this.activeImages().length)%this.activeImages().length)}static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275cmp=P({type:l,selectors:[["app-template-two"]],decls:37,vars:16,consts:[[1,"bg-white","text-gray-800","font-sans"],["routerLink","/home",1,"fixed","top-4","left-4","z-50","bg-white/80","backdrop-blur-sm","text-gray-800","px-4","py-2","rounded-full","shadow-md","hover:bg-white","transition"],[1,"h-screen","grid","lg:grid-cols-2"],[1,"flex","flex-col","justify-center","items-center","text-center","p-8","lg:p-16","order-2","lg:order-1"],[1,"max-w-md"],[1,"text-gray-500","uppercase","tracking-[0.2em]","mb-4"],[1,"text-6xl","md:text-7xl","font-light","leading-tight"],[1,"text-4xl","my-4","text-gray-400"],[1,"w-24","h-px","bg-gray-300","my-8","mx-auto","relative"],["viewBox","0 0 10 10","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2","w-3","h-3","text-gray-400"],["d","M5 0 L10 5 L5 10 L0 5 Z"],[1,"text-xl","text-gray-600"],[1,"h-full","w-full","min-h-[50vh]","lg:min-h-screen","order-1","lg:order-2","relative","overflow-hidden"],[1,"absolute","inset-0","w-full","h-full","bg-cover","bg-center","transition-opacity","duration-[2000ms]","ease-in-out",3,"background-image","opacity-100","opacity-0"],["appFadeIn","",1,"py-24","bg-gray-50"],["appFadeIn","",1,"py-24"],["appFadeIn","",1,"py-24","bg-cover","bg-center",3,"background-image"],[1,"bg-white","text-center","py-8"],[1,"text-gray-500"],["target","_blank",1,"text-gray-800","hover:underline","font-semibold",3,"href"],[3,"imageUrl"],[1,"absolute","inset-0","w-full","h-full","bg-cover","bg-center","transition-opacity","duration-[2000ms]","ease-in-out"],[1,"w-full","h-full","slide-animation"],[1,"container","mx-auto","px-6","max-w-6xl"],[1,"grid","md:grid-cols-2","gap-12","items-center"],[1,"text-center"],["alt","Groom",1,"w-full","h-auto","object-cover","aspect-[1/1]","rounded-full","max-w-sm","mx-auto","shadow-lg",3,"src"],[1,"text-4xl","font-light","mt-8"],[1,"text-gray-500","mt-2"],[1,"text-gray-700","mt-4","max-w-md","mx-auto","italic"],["alt","Bride",1,"w-full","h-auto","object-cover","aspect-[1/1]","rounded-full","max-w-sm","mx-auto","shadow-lg",3,"src"],[1,"text-center","mt-20","max-w-3xl","mx-auto"],[1,"text-xl","text-gray-700","italic"],[1,"mt-2","text-gray-500"],[1,"container","mx-auto","px-6","text-center","max-w-4xl"],[1,"text-4xl","font-light","uppercase","tracking-[0.1em]"],[1,"grid","grid-cols-4","gap-4"],[1,"text-5xl","font-light"],[1,"text-gray-500","text-sm","tracking-widest"],[1,"container","mx-auto","px-6","max-w-5xl","text-center"],[1,"flex","flex-col","gap-16","mt-16"],[1,"grid","md:grid-cols-2","gap-8","md:gap-12","items-center"],[1,"w-full","h-80","rounded",2,"background-size","cover","background-position","center"],[1,"text-left"],[1,"text-gray-500","mb-2"],[1,"text-lg","text-gray-600","leading-relaxed"],[1,"container","mx-auto","px-6","text-center"],[1,"flex","justify-center","gap-6","mb-8"],[1,"uppercase","tracking-widest","font-semibold","transition-colors","duration-300","border-b-2",3,"text-gray-900","text-gray-400","border-gray-800","border-transparent"],[1,"columns-2","md:columns-3","lg:columns-4","gap-4"],[1,"w-full","h-auto","mb-4","rounded","break-inside-avoid","cursor-pointer","transition-transform","duration-300","ease-in-out","hover:scale-105",3,"src","alt"],[1,"uppercase","tracking-widest","font-semibold","transition-colors","duration-300","border-b-2",3,"click"],[1,"w-full","h-auto","mb-4","rounded","break-inside-avoid","cursor-pointer","transition-transform","duration-300","ease-in-out","hover:scale-105",3,"click","src","alt"],["appFadeIn","",1,"py-24","bg-cover","bg-center"],[1,"text-4xl","font-light","uppercase","tracking-[0.1em]","text-white",2,"text-shadow","1px 1px 3px rgba(0,0,0,0.6)"],[1,"w-24","h-px","bg-white/50","my-8","mx-auto","relative"],["viewBox","0 0 10 10","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2","w-3","h-3","text-white"],[1,"grid","md:grid-cols-3","gap-8","max-w-6xl","mx-auto","mt-12"],[1,"bg-white/90","backdrop-blur-sm","p-6","rounded-lg","shadow-lg","text-left"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600","text-sm","mb-1"],[1,"text-gray-500","text-sm","mb-4"],[1,"w-full","h-56","rounded","overflow-hidden","shadow-md"],["width","100%","height","100%","allowfullscreen","","loading","lazy",2,"border","0",3,"src"],[1,"text-gray-600","mb-12","leading-relaxed"],[1,"grid","md:grid-cols-2","gap-8"],[1,"border","border-gray-200","p-6","rounded"],[1,"text-2xl","font-light","mb-4"],["alt","Groom's QR Code",1,"w-32","h-32","mx-auto","rounded-md",3,"src"],[1,"mt-4","text-sm","text-gray-500"],[1,"text-sm","font-semibold"],[1,"text-sm","text-gray-600"],[1,"mt-4","text-sm","px-4","py-2","rounded","transition-colors","duration-300","w-full",3,"click"],["alt","Bride's QR Code",1,"w-32","h-32","mx-auto","rounded-md",3,"src"],[1,"container","mx-auto","px-6","max-w-3xl","text-center"],[1,"text-gray-600","mb-8"],[1,"border","border-gray-200","p-8","rounded","mb-8","text-left"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["type","text","formControlName","name","placeholder","T\xEAn c\u1EE7a b\u1EA1n",1,"w-full","px-4","py-3","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-gray-300"],["formControlName","message","rows","4","placeholder","G\u1EEDi l\u1EDDi ch\xFAc...",1,"w-full","px-4","py-3","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-gray-300"],["type","submit",1,"w-full","bg-gray-800","text-white","px-6","py-3","rounded","hover:bg-gray-900","transition-colors","duration-300","disabled:bg-gray-300",3,"disabled"],[1,"space-y-6","text-left"],[1,"border-b","border-gray-200","pb-4"],[1,"text-gray-800"],[1,"text-right","text-gray-500","text-sm","mt-2","font-semibold"],[1,"container","mx-auto","px-6","text-center","max-w-3xl"],[3,"onClose","onNext","onPrev","imageUrl"]],template:function(e,i){if(e&1&&(t(0,"div",0)(1,"a",1),a(2,"\u2190 Back to Templates"),n(),t(3,"header",2)(4,"div",3)(5,"div",4)(6,"p",5),a(7),n(),t(8,"h1",6),a(9),n(),t(10,"div",7),a(11,"&"),n(),t(12,"h1",6),a(13),n(),t(14,"div",8),b(),t(15,"svg",9),d(16,"path",10),n()(),h(),t(17,"p",11),a(18),n()()(),t(19,"div",12),I(20,re,2,8,"div",13,U),n()(),g(22,le,24,10,"section",14),g(23,me,28,5,"section",15),g(24,de,10,1,"section",14),g(25,ge,13,1,"section",15),g(26,xe,34,19,"section",16),g(27,ue,34,24,"section",14),g(28,ve,2,0,"section",15),g(29,be,20,4,"section",14),g(30,he,9,2,"section",14),t(31,"footer",17)(32,"p",18),a(33," Created by "),t(34,"a",19),a(35),n()()()(),g(36,_e,1,1,"app-lightbox",20)),e&2){let c;o(7),m(((c=i.config().galleryTitle)==null?null:c.greeting)||""),o(2),m(i.config().couple.groom.name),o(4),m(i.config().couple.bride.name),o(5),m(i.getFormattedDate()),o(2),T(i.slideImages()),o(2),x(i.config().sectionVisibility.couple?22:-1),o(),x(i.config().sectionVisibility.countdown?23:-1),o(),x(i.config().sectionVisibility.story?24:-1),o(),x(i.config().sectionVisibility.gallery?25:-1),o(),x(i.config().sectionVisibility.event?26:-1),o(),x(i.config().sectionVisibility.gifting?27:-1),o(),x(i.config().sectionVisibility.miniGame?28:-1),o(),x(i.config().sectionVisibility.guestbook?29:-1),o(),x(i.config().sectionVisibility.thankYou?30:-1),o(4),p("href",i.config().footer.authorLink,y),o(),m(i.config().footer.authorName),o(),x(i.isLightboxOpen()&&i.selectedImageUrl()?36:-1)}},dependencies:[$,z,J,q,R,j,Y,K,Q,ee,te,ie,X],encapsulation:2,changeDetection:0})}};export{ne as TemplateTwoComponent};
